<!DOCTYPE html>
<html>
<head>
	<title>Gatling's DSL elements</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link class="theme" rel="stylesheet" type="text/css" href="css/light.css">
	<script src="js/jquery.min.js" type="text/javascript"></script>
	<script src="js/bootstrap.min.js" type="text/javascript"></script>
</head>
<body>
	<div id="content">
		<h1>Gatling's Cheat sheet</h1>
		<p>Hover over a DSL element to know how to use it and what it does</p>
		<ul id="switchtheme">
			<p>Theme</p>
			<li><a href="#" rel="css/dark.css" class="btn btn-info">Dark</a></li>
			<li><a href="#" rel="css/light.css" class="btn btn-info">Light</a></li>
		</ul>
		<div class="table struct">
			<h2>Scenario definition <small>Describe your users behaviour</small></h2>
			<div class="table scenario">
				<p data-title="scenario" data-content="Declares a new scenario<dl><dt>(name)</dt><dd><i>name</i> is the scenario name in the reports</dd></dl>">scenario</p>
			</div>
			<div class="table struct-base">
				<p data-title="exec" data-content="Execution Step<dl><dt>(action)</dt><dd>The <i>action</i> that will be executed at this step.</dd><dt>(chain...)</dt><dd>Inserts the <i>chain(s)</i> at this point of the scenario</dd><dt>(Session => Session)</dt><dd>Perform an operation upon the session at this step</dd></dl>">exec</p>
				<p data-title="pause" data-content="Declares a random pause in the scenario<dl><dt>(duration unit)</dt><dd>The pause will last <i>duration unit</i>. Eg: <i>2 seconds</i></dd><dt>(dur unit, dur unit)</dt><dd>Declares a pause duration randomly selected between the two durations</dd></dl>">pause</p>
				<p data-title="pauseExp" data-content="Declares a random pause in the scenario<dl><dt>(duration unit)</dt><dd>The pauses will last <i>duration unit</i> in mean. Eg: <i>2 seconds</i></dd></dl>">pauseExp</p>
				<p data-title="pauseCustom" data-content="Declares a custom pause in the scenario<dl><dt>(() => Long))</dt><dd>The duration of the pause is generated by the custom function <i>() => Long</i></dd></dl>">pauseCustom</p>
			</div>
			<div class="table conditions">
				<p data-title="doIf" data-content="Executes a chain when a condition is satisfied<dl><dt>(actual, expected){chain}</dt><dd>If the <i>actual</i> value is equal to <i>expected</i>, then, <i>chain</i> is executed.</dd><dt>(Session => Boolean){chain}</dt><dd>If the result of the function <i>Session => Boolean</i> is true, then <i>chain</i> is executed.</dd></dl>">doIf</p>
				<p data-title="doIfOrElse" data-content="Executes a chain when a condition is satisfied, another if not<dl><dt>(actual, expected){chain}{otherChain}</dt><dd>If the <i>actual</i> value is equal to <i>expected</i>, then, <i>chain</i> is executed, else, <i>otherChain</i> is executed.</dd><dt>(Session => Boolean){chain}{otherChain}</dt><dd>If the result of the function <i>Session => Boolean</i> is true, then <i>chain</i> is executed, else <i>otherChain</i> is executed.</dd></dl>">doIfOrElse</p>
				<p data-title="randomSwitch" data-content="<dl><dt>(dur unit)</dt><dd></dd></dl>">randomSwitch!</p>
				<p data-title="roundRobinSwitch" data-content="<dl><dt>(Map[%,Chain])</dt><dd></dd></dl>">roundRobinSwitch!</p>
			</div>
			<div class="table loops left">
				<p data-title="repeat" data-content="Repeats a part of the scenario<dl><dt>(times){chain}</dt><dd>The <i>chain</i> is repeated the specified number of <i>times</i></dd></dl>">repeat</p>
				<p data-title="during" data-content="Repeats a part of the scenario<dl><dt>(dur unit)</dt><dd>The <i>chain</i> is repeated for at least <i>dur unit</i>.</dd></dl>">during</p>
				<p data-title="asLongAs" data-content="Reapeats a part of the scenario<dl><dt>(key, value)</dt><dd>The <i>chain</i> is repeated as long as the session value stored at <i>key</i> equals <i>value</i></dd><dt>(Session => Boolean)</dt><dd>The <i>chain</i> is repeated as long as the <i>(Session => Boolean</i> evaluates as <i>true</i></dd></dl>">asLongAs</p>
			</div>
			<div class="table failure-handling left">
				<p data-title="tryMax" data-content="<dl><dt>(times,counterName){chain}</dt><dd></dd></dl>">tryMax!</p>
				<p data-title="exitBlockOnFail" data-content="<dl><dt>{chain}</dt><dd></dd></dl>">exitBlockOnFail!</p>
				<p data-title="exitHereIfFailed" data-content="">exitHereIfFailed!</p>
			</div>
		</div>
		<div class="table feeders">
			<h2>Feeder definition <small>Inject data in your scenario</small></h2>
			<div class="table feeder-types">
				<p data-title="csv" data-content="Declares a feeder from a CSV file<dl><dt>(fileName)</dt><dd><i>fileName</i> is the name of the file under the <i>data</i> folder containing the comma separated values to be injected</dd></dl>">csv</p>
				<p data-title="tsv" data-content="Declares a feeder from a TSV file<dl><dt>(fileName)</dt><dd><i>fileName</i> is the name of the file under the <i>data</i> folder containing the tabulation separated values to be injected</dd></dl>">tsv</p>
				<p data-title="ssv" data-content="Declares a feeder from a SSV file<dl><dt>(fileName)</dt><dd><i>fileName</i> is the name of the file under the <i>data</i> folder containing the semicolon separated values to be injected</dd></dl>">ssv</p>
				<p data-title="jdbcFeeder" data-content="Declares a feeder from database records<dl><dt>(dbURL,user,pass,sql)</dt><dd>The feeder will load its values thanks to the <i>sql</i> request made on the database located at the JDBC URL <i>dbURL</i> as <i>user</i>/<i>pass</i>.<br>Note that you need to include the right JDBC4 driver in the classpath (lib folder if using the bundle)</dd></dl>">jdbcFeeder</p>
				<p data-title="redisFeeder" data-content="<dl><dt>(pool, key)</dt><dd>This feeder loads its values from a Redis <i>pool</i> and stores them under <i>key</i> in the session.</dd></dl>">redisFeeder</p>
			</div>
			<div class="table feeder-strategies">
				<p data-title="queue" data-content="This is the default strategy (you don't have to specify it). It takes the values in the feeder as in a queue. If the queue is not long enough, you'll get an error at execution.">queue</p>
				<p data-title="random" data-content="This strategy chooses values randomly in the feeder. Values can be chosen several times.">random</p>
				<p data-title="circular" data-content="This strategy takes the values of the feeder in their order, and when it reaches the last, it returns to the first one.">circular</p>
			</div>
		</div>
		<div class="table scenario-config">
			<h2>Scenario configuration <small>Tune your simulation</small></h2>
			<div class="table config left">
				<p data-title="configure" data-content="Use this method to configure a scenario (in the List of scenarios to be executed in the simulation).">configure</p>
			</div>
			<div class="table scen-opts left">
				<p data-title="users" data-content="Number of simulated users for this scenario<dl><dt>(number)</dt><dd>Exactly <i>number</i> sessions of this scenario will be started by Gatling.</dd></dl>">users</p>
				<p data-title="ramp" data-content="Sets a linear ramp for sessions creation<dl><dt>(duration)</dt><dd>Sets the <i>duration</i> (in seconds) needed to start all the user sessions.<br>eg: if you set 10 users with a 10s ramp, then 1 user will start each second.</dd><dt>(dur unit)</dt><dd>Same as above, except that you can specify any time unit as <i>dur unit</i>: 2 minutes</dd></dl>">ramp</p>
				<p data-title="delay" data-content="Sets the start time of this scenario's first session<dl><dt>(duration)</dt><dd>Sets the <i>duration</i> after which the first user session will be started. This allows you to create various load schemes.</dd><dt>(dur unit)</dt><dd>Same as above, except that you can specify any time unit as <i>dur unit</i>: 2 minutes</dd></dl>">delay</p>
				<p data-title="protocolConfig" data-content="Sets a protocol configuration for this scenario<dl><dt>(protocolConfig...)</dt><dd>The <i>protocolConfig</i> added by this method will apply to all the actions of the concerned protocol.</dd></dl>">protocolConfig</p>
			</div>
		</div>
		<div class="table action">
			<h2>HTTP Action <small>Definine the HTTP requests sent in your scenario</small></h2>
			<div class="table http">
				<p data-title="http" data-content="Declares an HTTP request<dl><dt>(name)</dt><dd><i>name</i> is the request name in the reports</dd></dl>">http</p>
			</div>
			<div class="table http-verb">
				<p data-title="get" data-content="Sets the HTTP method to GET<dl><dt>(url)</dt><dd>Sets the <i>url</i> of the HTTP request</dd></dl>">get</p>
				<p data-title="post" data-content="Sets the HTTP method to POST<dl><dt>(url)</dt><dd>Sets the <i>url</i> of the HTTP request</dd></dl>">post</p>
				<p data-title="put" data-content="Sets the HTTP method to PUT<dl><dt>(url)</dt><dd>Sets the <i>url</i> of the HTTP request</dd></dl>">put</p>
				<p data-title="delete" data-content="Sets the HTTP method to DELETE<dl><dt>(url)</dt><dd>Sets the <i>url</i> of the HTTP request</dd></dl>">delete</p>
				<p data-title="head" data-content="Sets the HTTP method to HEAD<dl><dt>(url)</dt><dd>Sets the <i>url</i> of the HTTP request</dd></dl>">head</p>
			</div>
			<div class="table http-opts">
				<p data-title="queryParam" data-content="Adds a query parameter to the URL<dl><dt>(key, value)</dt><dd>http://example.tld?key=value</dd></dl>">queryParam</p>
				<p data-title="header" data-content="Adds a header to the request.<dl><dt>(key, value)</dt><dd>Adds <i>key: value</i> as header</dd></dl>">header</p>
				<p data-title="headers" data-content="Adds several headers to the request.<dl><dt>(Map[key, value])</dt><dd>Adds every tuple <i>key: value</i> of the map as header</dd></dl>">headers</p>
				<p data-title="basicAuth" data-content="Sets the credentials for BASIC authentication.<dl><dt>(user, password)</dt><dd>Will authenticate as <i>user</i> with <i>password</i></dd></dl>">basicAuth</p>
			</div>
			<div class="table http-body left">
				<p data-title="body" data-content="Adds a body to the request<dl><dt>(body)</dt><dd>Sets the body of the request to <i>body (a String)</i>.</dd></dl>">body</p>
				<p data-title="fileBody" data-content="Adds a body to the request from a file located in the data folder<dl><dt>(fileName)</dt><dd>Sets the contents of <i>fileName</i> as the body of the request.</dd><dt>(tplFileName, values)</dt><dd>Injects the <i>values</i> inside the template located at <i>tplFileName</i> and sets the result as the body of the request</dd></dl>">fileBody</p>
				<p data-title="byteArrayBody" data-content="Adds a body to the request<dl><dt>(Session => Array[Byte])</dt><dd>Sets the body of the request to the result of <i>the function</i>.</dd></dl>">byteArrayBody</p>
				<p data-title="param" data-content="Adds a parameter to the request<dl><dt>(key, value)</dt><dd>Adds a parameter in the body of the request. Eg: <i>key=value</i></dd></dl>">param</p>
				<p data-title="upload" data-content="Changes the type of the request to multi-part<dl><dt>(key, fileName)</dt><dd>Adds the contents of <i>fileName</i> (located in the <i>request-bodies</i> folder) to the request, under <i>key</i></dd></dl>">upload</p>
			</div>
		</div>
		<div class="table checks">
			<h2>Checks <small>Verifying server responses</small></h2>
			<div class="table check">
				<p data-title="check" data-content="Declare every check that should apply on the action<dl><dt>(check...)</dt><dd>Every check you need to make on the response from the server</dd></dl>">check</p>
			</div>
			<div class="table http-checks">
				<p data-title="status" data-content="Check will be applied to the status of the HTTP response">status</p>
				<p data-title="currentLocation" data-content="Check will be applied to the current url of the response">currentLocation</p>
				<p data-title="header" data-content="Check will be applied to selected headers of the HTTP response<dl><dt>(headerName)</dt><dd>The check will be applied on the header corresponding to <i>headerName</i></dd><dt>(Session => String)</dt><dd>Same as above, except that the header name is given by the <i>Session => String</i> function.</dd></dl>">header</p>
				<p data-title="header" data-content="Check will be applied to selected headers of the HTTP response<dl><dt>(headerName, pattern)</dt><dd>The check will be applied on the headers <i>headerName</i> whose value match the provided <i>pattern</i>.</dd><dt>(Session => String)</dt><dd>Same as above, except that the header name is given by the <i>Session => String</i> function.</dd></dl>">headerRegex</p>
				<p data-title="responseTimeInMillis" data-content="Check will be applied to the response time of the server" class="tooLong">responseTimeInMillis</p>
				<p data-title="latencyInMillis" data-content="Check will be applied to the latency of the request/response round trip">latencyInMillis</p>
				<p data-title="regex" data-content="Check will be applied to an extract of the HTTP response's body<dl><dt>(expression)</dt><dd>Extraction will use a regular expression defined by <i>expression</i>.</dd></dl>">regex</p>
				<p data-title="xpath" data-content="Check will be applied to an extract of the HTTP response's body<dl><dt>(expression)</dt><dd>Extraction will use an XPath expression defined by <i>expression</i></dd><dt>(expression, namespaces)</dt><dd>If you want to use namespaces in your XPATH expression, you should specify them. The <i>namespaces</i> are specified thanks to a List[(prefix,uri)]:<br>List(('c','http://core'), ('f','http://format')).</dd><dt>(Session => String)</dt><dd>The expression can be expressed as a <i>Session => String</i> function (with namespaces also)</dd></dl>">xpath</p>
				<p data-title="jsonPath" data-content="Check will be applied to an extract of the HTTP response's body<dl><dt>(expression)</dt><dd>jsonPath is similar to XPATH, but for JSON encoded data.</dd><dt>(Session => String)</dt><dd>The expression can be expressed as a <i>Session => String</i> function</dd></dl>">jsonPath</p>
				<p data-title="css" data-content="Check will be applied to an extract of the HTTP response's body<dl><dt>(expression)</dt><dd>Uses the <i>css</i> selector to extract the value to be checked.</dd><dt>(expression, attr)</dt><dd>Same as above, except that the extracted value is the <i>attr</i> of the selected node.</dd></dl>">css</p>
				<p data-title="md5" data-content="Check will be applied on the md5 checksum of the HTTP response">md5</p>
				<p data-title="sha1" data-content="Check will be applied on the sha1 checksum of the HTTP response">sha1</p>
			</div>
			<div class="table check-extractors">
				<p data-title="find" data-content="Specifies that only one value matching the check definition must be extracted<dl><dt>&oslash;</dt><dd>If used as <i>find</i> check will be applied on the first value found. Note that this is the default behaviour, you don't have to specify it.</dd><dt>(occurrence)</dt><dd>Gets the <i>occurrence</i>-th value that matches the check definition.</dd></dl>">find</p>
				<p data-title="findAll" data-content="Specifies that every value matching the check definition should be extracted for verification. The resulting type is a list of extracted values.">findAll</p>
				<p data-title="count" data-content="The check will be applied on the size of the list returned by findall">count</p>
			</div>
			<div class="table check-transformer">
				<p data-title="transform" data-content="Used to transform data before verification<dl><dt>(A => B)</dt><dd>This function is optional. It can be useful sometimes to apply a transformation on the extracted values before validating them. In this function, type <i>A</i> is the type of the find operation (either <i>String</i>, <i>List[String]</i> or <i>Int</i>). Type B is whatever you want it to be (could be a case class for example)</dd></dl>">transform</p>
			</div>
			<div class="table check-verifiers left">
				<p data-title="is" data-content="Checks for equality<dl><dt>(expected)</dt><dd>if the captured (or transformed) value is equal to <i>expected</i> the check will succeed; it will fail otherwise</dd></dl>">is</p>
				<p data-title="not" data-content="Checks for inequality<dl><dt>(expected)</dt><dd>If the captured (or transformed) value is different than <i>expected</i> the check will succeed; it will fail otherwise</dd></dl>">not</p>
				<p data-title="exists" data-content="Checks that there's at least one value corresponding to the check definition .This is the default verification (it does not need to be specified)">exists</p>
				<p data-title="notExists" data-content="Checks that there are no values corresponding to the check definition">notExists</p>
				<p data-title="in" data-content="Checks for belonging to a sequence<dl><dt>(sequence)</dt><dd>If the captured (or transformed) value is included in the <i>sequence</i> the check will succeed; it will fail otherwise</dd></dl>">in</p>
				<p data-title="whatever" data-content="Always returns true. Used to capture optional values into the session">whatever</p>
			</div>
			<div class="table check-saver left">
				<p data-title="saveAs" data-content="If the check succeeds, it captures the extracted value(s) into the session<dl><dt>(key)</dt><dd>The value(s) will be stored in the session under key <i>key</i></dd></dl>">saveAs</p>
			</div>
		</div>
		<div class="table http-config">
			<h2>HTTP Configuration <small>Factorise your scenario's code and tune the behaviour of Gatling's HTTP client</small></h2>
			<div class="table httpconfig">
				<p data-title="httpconfig" data-content="">httpconfig!</p>
			</div>
			<div class="table urls">
				<p data-title="baseURL" data-content="<dl><dt>(url)</dt><dd></dd></dl>">baseURL!</p>
				<p data-title="baseURLs" data-content="<dl><dt>(url...)</dt><dd></dd></dl>">baseURLs!</p>
			</div>
			<div class="table proxy">
				<p data-title="proxy" data-content="<dl><dt>(host, port)</dt><dd></dd></dl>">proxy!</p>
				<p data-title="httpsPort" data-content="<dl><dt>(port)</dt><dd></dd></dl>">httpsPort!</p>
				<p data-title="credentials" data-content="<dl><dt>(username,password)</dt><dd></dd></dl>">credentials!</p>
			</div>
			<div class="table headers">
				<p data-title="acceptHeader" data-content="<dl><dt>(value)</dt><dd></dd></dl>">acceptHeader!</p>
				<p href="#" data-title="acceptCharsetHeader" data-content="<dl><dt>(value)</dt><dd></dd></dl>" class="tooLong">acceptCharsetHeader!</p>
				<p href="#" data-title="acceptEncodingHeader" data-content="<dl><dt>(value)</dt><dd></dd></dl>" class="reallyLong">acceptEncodingHeader!</p>
				<p href="#" data-title="acceptLanguageHeader" data-content="<dl><dt>(value)</dt><dd></dd></dl>" class="reallyLong">acceptLanguageHeader!</p>
				<p href="#" data-title="hostHeader" data-content="<dl><dt>(value)</dt><dd></dd></dl>">hostHeader!</p>
				<p href="#" data-title="userAgentHeader" data-content="<dl><dt>(value)</dt><dd></dd></dl>" class="poptop">userAgentHeader!</p>
			</div>
			<div class="table options left">
				<p data-title="disableFollowRedirect" data-content="" class="reallyLong">disableFollowRedirect!</p>
				<p data-title="disableAutomaticReferer" data-content="" class="reallyLong">disableAutomaticReferer!</p>
				<p data-title="disableWarmUp" data-content="">disableWarmUp!</p>
				<p data-title="warmUp" data-content="<dl><dt>(url)</dt><dd></dd></dl>">warmUp!</p>
			</div>
			<div class="table plumbing left">
				<p data-title="requestInfoExtractor" data-content="<dl><dt>(Request => List[String])</dt><dd></dd></dl>" class="tooLong">requestInfoExtractor!</p>
				<p data-title="responseInfoExtractor" data-content="<dl><dt>(Response => List[String])</dt><dd></dd></dl>" class="reallyLong">responseInfoExtractor!</p>
				<p data-title="disableResponseChunksDiscarding" data-content="" class="reallyTooLong">disableResponseChunksDiscarding!</p>
			</div>
		</div>
	</div>
	<script type="text/javascript">
	
	$('.table.left p').popover({trigger:'hover', placement:'left'});
	$('.table p').popover({trigger:'hover', placement:'right'});

	$(document).ready(function(){
		$('#switchtheme li a').click(function(){
			$('link.theme').attr('href', $(this).attr('rel'));
			return false;
		})
	});
	</script>
</body>
</html>